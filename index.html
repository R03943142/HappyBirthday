<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    

    <script type="text/javascript" src="./javascripts/commandline.js"></script>
    <script type="text/javascript" src="./javascripts/message.js"></script>

    <title>Happybirthday by R03943142</title>
  </head>

  <body>
    <code>YuHao@NTUserver:~$ </code> <code id="commandline1">▋</code>
    <br/>
    <code  id ="date" style="visibility: hidden">Sat Mar 26 00:00:00 CST 2016 </code>
    <br/>
    <code id = "system2" style="visibility: hidden">YuHao@NTUserver:~$ </code> <code id="commandline2" style="visibility: hidden">▋</code>
    <br/>
    <code id = "execute" style = "visibility: hidden">Executing SayHappyBirthDay...</code>
    <br/>
    <br/>
    <img id = "baymax" style = "visibility: hidden" src="images/baymax.png">
    <br/>
    <code id = "message" style = "visibility: hidden"></code>
    <br/>

  </body>
  <script>
    
    var commandLine = new CommandLine();
    var messageBox = new MessageBox();
    //var message = new
    // first command
    var timer = setTimeout(function() {
      document.getElementById("commandline1").innerText = commandLine.returnNextCommand();
    }, 100);
    timer = setTimeout(function() {
      document.getElementById("commandline1").innerText = commandLine.returnNextCommand();
    }, 200);
    timer = setTimeout(function() {
      document.getElementById("commandline1").innerText = commandLine.returnNextCommand();
    }, 300);
    timer = setTimeout(function() {
      document.getElementById("commandline1").innerText = commandLine.returnNextCommand();
    }, 400);
    timer = setTimeout(function() {
      document.getElementById("date").setAttribute("style","visibility: visible");
      document.getElementById("system2").setAttribute("style","visibility: visible");
      document.getElementById("commandline2").setAttribute("style","visibility: visible");
      document.getElementById("commandline1").innerText = commandLine.returnNextCommand();
    }, 1000);
    // second command
    for (var i = 0; i < 19; i+=1)
      timer = setTimeout(function() {
        document.getElementById("commandline2").innerText = commandLine.returnNextCommand();
      }, 2000 + i * 100);
    // execute
    timer = setTimeout(function() {
        document.getElementById("execute").setAttribute("style","visibility: visible");
      }, 3900);
    //baymax
    timer = setTimeout(function() {
        document.getElementById("baymax").setAttribute("style","visibility: visible");
      }, 4900);
    //wait
    timer = setTimeout(function() {
        document.getElementById("message").setAttribute("style","visibility: visible");
      }, 4900);
    for (var i = 0; i < 5; i+=1) {
      timer = setTimeout(function() {
      document.getElementById("message").innerText = messageBox.wait(document.getElementById("message").innerText);
      }, 4900 + i * 500);
    }
    timer = setTimeout(function() {
      messageBox.setWelcome(document.getElementById("message"));
      messageBox.printWelcome();
    }, 7000);
    // message
    var soundEmbed = null;
    timer = setTimeout(function() {
      soundEmbed = document.createElement("embed");
      soundEmbed.setAttribute("src", "music/song.mid");
      soundEmbed.setAttribute("hidden", true);
      soundEmbed.setAttribute("autostart", true);
      soundEmbed.removed = false;
      document.body.appendChild(soundEmbed);
    }, 13000);

  </script>
</html>
